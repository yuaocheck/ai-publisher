<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Publisher - AI å†…å®¹ç”Ÿæˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="config.js"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .ai-card {
            transition: all 0.3s ease;
        }
        .ai-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .typing-animation {
            border-right: 2px solid #667eea;
            animation: typing 2s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #667eea }
        }
        .loading-dots {
            display: inline-block;
        }
        .loading-dots::after {
            content: '';
            animation: dots 1.5s steps(4, end) infinite;
        }
        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }
        .error-message {
            background-color: #fef2f2;
            border-color: #fecaca;
            color: #dc2626;
        }
        .success-message {
            background-color: #f0fdf4;
            border-color: #bbf7d0;
            color: #16a34a;
        }
        .variation-card {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .variation-card:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .variation-card.selected {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
    </style>
</head>
<body class="bg-gray-50" x-data="aiGenerationData()">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="start.html" class="flex items-center">
                        <div class="h-8 w-8 bg-blue-600 rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-sm">AI</span>
                        </div>
                        <span class="ml-2 text-xl font-bold text-gray-900">Publisher</span>
                    </a>
                </div>
                <div class="flex items-center">
                    <a href="start.html" class="text-gray-500 hover:text-gray-700 px-3 py-2 text-sm font-medium">
                        <i class="fas fa-arrow-left mr-2"></i>è¿”å›é¦–é¡µ
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="gradient-bg py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                <i class="fas fa-robot text-blue-600 text-2xl"></i>
            </div>
            <h1 class="text-4xl font-bold text-white mb-4">AI å†…å®¹ç”Ÿæˆ</h1>
            <p class="text-xl text-blue-100 mb-8 max-w-3xl mx-auto">
                æ™ºèƒ½ç”Ÿæˆæ–‡æ¡ˆã€å›¾ç‰‡å’Œè§†é¢‘å†…å®¹ï¼Œæå‡åˆ›ä½œæ•ˆç‡
            </p>
            <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4 inline-block">
                <p class="text-white text-sm">
                    <i class="fas fa-magic mr-2"></i>
                    åŸºäº Google Gemini AIï¼Œæ”¯æŒå¤šç§å†…å®¹ç±»å‹å’Œåˆ›ä½œé£æ ¼
                </p>
            </div>
        </div>
    </div>

    <!-- API Key Setup -->
    <div x-show="showApiKeyInput" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded-xl shadow-lg p-8 border-l-4 border-blue-500">
            <div class="flex items-center mb-4">
                <i class="fas fa-key text-blue-600 text-xl mr-3"></i>
                <h2 class="text-xl font-bold text-gray-900">è®¾ç½® Gemini API Key</h2>
            </div>
            <p class="text-gray-600 mb-6">
                ä¸ºäº†ä½¿ç”¨ AI å†…å®¹ç”ŸæˆåŠŸèƒ½ï¼Œæ‚¨éœ€è¦æä¾› Google Gemini API Keyã€‚
                <a href="https://makersuite.google.com/app/apikey" target="_blank" class="text-blue-600 hover:text-blue-800 underline">
                    ç‚¹å‡»è¿™é‡Œè·å–å…è´¹ API Key
                </a>
            </p>

            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">API Key</label>
                    <div class="flex space-x-3">
                        <input
                            type="password"
                            x-model="apiKey"
                            class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="è¾“å…¥æ‚¨çš„ Gemini API Key..."
                        >
                        <button
                            @click="saveApiKey()"
                            class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition duration-200"
                        >
                            ä¿å­˜
                        </button>
                    </div>
                </div>

                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                    <div class="flex">
                        <i class="fas fa-exclamation-triangle text-yellow-600 mt-0.5 mr-2"></i>
                        <div class="text-sm text-yellow-800">
                            <strong>éšç§è¯´æ˜ï¼š</strong>æ‚¨çš„ API Key ä»…å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­ï¼Œä¸ä¼šå‘é€åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Error/Success Messages -->
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div x-show="errorMessage" class="mb-4 p-4 border rounded-lg error-message">
            <div class="flex items-center">
                <i class="fas fa-exclamation-circle mr-2"></i>
                <span x-text="errorMessage"></span>
            </div>
        </div>

        <div x-show="successMessage" class="mb-4 p-4 border rounded-lg success-message">
            <div class="flex items-center">
                <i class="fas fa-check-circle mr-2"></i>
                <span x-text="successMessage"></span>
            </div>
        </div>
    </div>

    <!-- AI Generator -->
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded-xl shadow-lg p-8">
            <div class="flex justify-between items-center mb-8">
                <div class="text-center flex-1">
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">AI å†…å®¹ç”Ÿæˆå™¨</h2>
                    <p class="text-gray-600">è¾“å…¥æ‚¨çš„æƒ³æ³•ï¼ŒAI ä¸ºæ‚¨åˆ›ä½œç²¾å½©å†…å®¹</p>
                </div>
                <div x-show="!showApiKeyInput">
                    <button
                        @click="showApiKeyInput = true"
                        class="text-gray-500 hover:text-gray-700 text-sm"
                        title="æ›´æ¢ API Key"
                    >
                        <i class="fas fa-cog mr-1"></i>è®¾ç½®
                    </button>
                </div>
            </div>

            <!-- Input Section -->
            <div class="space-y-6">
                <div>
                    <div class="flex justify-between items-center mb-2">
                        <label class="block text-sm font-medium text-gray-700">å†…å®¹ä¸»é¢˜</label>
                        <span class="text-xs text-gray-500" x-text="prompt.length + ' å­—ç¬¦'"></span>
                    </div>
                    <textarea
                        x-model="prompt"
                        rows="3"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        placeholder="ä¾‹å¦‚ï¼šä»‹ç»æˆ‘ä»¬çš„æ–°äº§å“åŠŸèƒ½ï¼ŒåŒ…æ‹¬AIæ™ºèƒ½æ¨èã€å®æ—¶æ•°æ®åˆ†æç­‰ç‰¹æ€§..."
                    ></textarea>

                    <!-- Sample Prompts -->
                    <div class="mt-3">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs text-gray-500">ğŸ’¡ ç¤ºä¾‹æç¤ºè¯</span>
                            <button
                                @click="prompt = getRandomSamplePrompt()"
                                class="text-xs text-blue-600 hover:text-blue-800"
                            >
                                éšæœºç¤ºä¾‹
                            </button>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <template x-for="(sample, index) in samplePrompts.slice(0, 3)" :key="index">
                                <button
                                    @click="prompt = sample"
                                    class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-full transition duration-200"
                                    x-text="sample.substring(0, 30) + '...'"
                                ></button>
                            </template>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">å†…å®¹ç±»å‹</label>
                        <select x-model="contentType" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="social_post">ç¤¾äº¤åª’ä½“</option>
                            <option value="blog_article">åšå®¢æ–‡ç« </option>
                            <option value="marketing_copy">è¥é”€æ–‡æ¡ˆ</option>
                            <option value="product_description">äº§å“æè¿°</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">è¯­è°ƒé£æ ¼</label>
                        <select x-model="tone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="professional">ä¸“ä¸š</option>
                            <option value="casual">éšæ„</option>
                            <option value="friendly">å‹å¥½</option>
                            <option value="humorous">å¹½é»˜</option>
                            <option value="inspiring">é¼“èˆ</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">å†…å®¹é•¿åº¦</label>
                        <select x-model="length" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="short">ç®€çŸ­</option>
                            <option value="medium">ä¸­ç­‰</option>
                            <option value="long">è¯¦ç»†</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">è¯­è¨€</label>
                        <select x-model="language" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="zh-CN">ä¸­æ–‡</option>
                            <option value="en-US">English</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç›®æ ‡å¹³å°</label>
                    <div class="flex flex-wrap gap-2">
                        <template x-for="platform in platforms" :key="platform.id">
                            <label class="flex items-center">
                                <input 
                                    type="checkbox" 
                                    :value="platform.id"
                                    x-model="selectedPlatforms"
                                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                                >
                                <span class="ml-2 text-sm text-gray-700" x-text="platform.name"></span>
                            </label>
                        </template>
                    </div>
                </div>

                <!-- Platform Character Limits Info -->
                <div x-show="selectedPlatforms.length > 0" class="bg-blue-50 rounded-lg p-4">
                    <h4 class="text-sm font-medium text-blue-900 mb-2">ğŸ“ å¹³å°å­—ç¬¦é™åˆ¶</h4>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-2">
                        <template x-for="platformId in selectedPlatforms" :key="platformId">
                            <div class="text-xs text-blue-800">
                                <span x-text="platforms.find(p => p.id === platformId)?.name"></span>:
                                <span x-text="getPlatformLimit(platformId)"></span>å­—ç¬¦
                            </div>
                        </template>
                    </div>
                </div>

                <div class="text-center">
                    <button
                        @click="generateContent()"
                        :disabled="generating || !prompt.trim()"
                        class="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-8 py-3 rounded-lg font-medium transition duration-200"
                    >
                        <span x-show="!generating">
                            <i class="fas fa-magic mr-2"></i>ç”Ÿæˆå†…å®¹
                        </span>
                        <span x-show="generating" class="loading-dots">
                            <i class="fas fa-spinner fa-spin mr-2"></i>AI æ­£åœ¨åˆ›ä½œä¸­
                        </span>
                    </button>
                </div>
            </div>

            <!-- Generated Content -->
            <div x-show="generatedContent" class="mt-8 border-t pt-8">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">ç”Ÿæˆçš„å†…å®¹</h3>
                    <div class="text-sm text-gray-500">
                        å­—æ•°: <span x-text="generatedContent.length"></span>
                    </div>
                </div>

                <div class="bg-gray-50 rounded-lg p-6 mb-4">
                    <div class="whitespace-pre-wrap text-gray-800" x-text="generatedContent"></div>
                </div>

                <div class="flex flex-wrap gap-3 mb-6">
                    <button
                        @click="copyContent()"
                        class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition duration-200"
                    >
                        <i class="fas fa-copy mr-2"></i>å¤åˆ¶å†…å®¹
                    </button>
                    <button
                        @click="optimizeContent()"
                        :disabled="generating"
                        class="bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm transition duration-200"
                    >
                        <i class="fas fa-wand-magic-sparkles mr-2"></i>
                        <span x-show="!generating">ä¼˜åŒ–å†…å®¹</span>
                        <span x-show="generating">ä¼˜åŒ–ä¸­...</span>
                    </button>
                    <button
                        @click="generateVariations()"
                        :disabled="generating"
                        class="bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm transition duration-200"
                    >
                        <i class="fas fa-shuffle mr-2"></i>
                        <span x-show="!generating">ç”Ÿæˆå˜ä½“</span>
                        <span x-show="generating">ç”Ÿæˆä¸­...</span>
                    </button>
                </div>

                <!-- Content Variations -->
                <div x-show="showVariations && generatedVariations.length > 0" class="mt-6">
                    <h4 class="text-md font-medium text-gray-900 mb-4">å†…å®¹å˜ä½“</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <template x-for="(variation, index) in generatedVariations" :key="index">
                            <div
                                @click="selectVariation(index)"
                                :class="selectedVariation === index ? 'selected' : ''"
                                class="variation-card border-2 border-gray-200 rounded-lg p-4"
                            >
                                <div class="flex justify-between items-start mb-2">
                                    <span class="text-sm font-medium text-gray-700">å˜ä½“ <span x-text="index + 1"></span></span>
                                    <div class="text-xs text-gray-500">
                                        <span x-text="variation.length"></span> å­—
                                    </div>
                                </div>
                                <div class="text-sm text-gray-600 line-clamp-4" x-text="variation.substring(0, 100) + (variation.length > 100 ? '...' : '')"></div>
                                <div class="mt-3 text-center">
                                    <button class="text-blue-600 hover:text-blue-800 text-xs font-medium">
                                        é€‰æ‹©æ­¤å˜ä½“
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>
                    <div class="mt-4 text-center">
                        <button
                            @click="showVariations = false"
                            class="text-gray-500 hover:text-gray-700 text-sm"
                        >
                            æ”¶èµ·å˜ä½“
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Usage Tips -->
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-8">
            <h2 class="text-xl font-bold text-gray-900 mb-6 text-center">ğŸ’¡ ä½¿ç”¨æŠ€å·§</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5">
                            <span class="text-blue-600 font-bold text-xs">1</span>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900">è¯¦ç»†æè¿°ä¸»é¢˜</h4>
                            <p class="text-sm text-gray-600">æä¾›å…·ä½“çš„èƒŒæ™¯ä¿¡æ¯å’Œç›®æ ‡ï¼ŒAI èƒ½ç”Ÿæˆæ›´ç²¾å‡†çš„å†…å®¹</p>
                        </div>
                    </div>

                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5">
                            <span class="text-blue-600 font-bold text-xs">2</span>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900">é€‰æ‹©åˆé€‚çš„å¹³å°</h4>
                            <p class="text-sm text-gray-600">ä¸åŒå¹³å°æœ‰ä¸åŒçš„ç”¨æˆ·ä¹ æƒ¯ï¼Œé€‰æ‹©ç›®æ ‡å¹³å°æœ‰åŠ©äºä¼˜åŒ–å†…å®¹é£æ ¼</p>
                        </div>
                    </div>

                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5">
                            <span class="text-blue-600 font-bold text-xs">3</span>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900">å°è¯•ä¸åŒè¯­è°ƒ</h4>
                            <p class="text-sm text-gray-600">æ ¹æ®å“ç‰Œè°ƒæ€§å’Œç›®æ ‡å—ä¼—é€‰æ‹©åˆé€‚çš„è¯­è°ƒé£æ ¼</p>
                        </div>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-3 mt-0.5">
                            <span class="text-purple-600 font-bold text-xs">4</span>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900">åˆ©ç”¨ä¼˜åŒ–åŠŸèƒ½</h4>
                            <p class="text-sm text-gray-600">ç”ŸæˆåŸºç¡€å†…å®¹åï¼Œä½¿ç”¨ä¼˜åŒ–åŠŸèƒ½æå‡å¸å¼•åŠ›å’Œäº’åŠ¨æ€§</p>
                        </div>
                    </div>

                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-3 mt-0.5">
                            <span class="text-purple-600 font-bold text-xs">5</span>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900">ç”Ÿæˆå¤šä¸ªå˜ä½“</h4>
                            <p class="text-sm text-gray-600">ç”Ÿæˆå¤šä¸ªç‰ˆæœ¬è¿›è¡Œå¯¹æ¯”ï¼Œé€‰æ‹©æœ€ç¬¦åˆéœ€æ±‚çš„å†…å®¹</p>
                        </div>
                    </div>

                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-3 mt-0.5">
                            <span class="text-purple-600 font-bold text-xs">6</span>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900">äººå·¥å®¡æ ¸</h4>
                            <p class="text-sm text-gray-600">AI ç”Ÿæˆçš„å†…å®¹å»ºè®®äººå·¥å®¡æ ¸åå†å‘å¸ƒï¼Œç¡®ä¿å‡†ç¡®æ€§</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Features -->
    <div class="bg-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">AI åŠŸèƒ½ç‰¹è‰²</h2>
                <p class="text-xl text-gray-600">å¼ºå¤§çš„ AI èƒ½åŠ›ï¼Œè®©å†…å®¹åˆ›ä½œæ›´æ™ºèƒ½</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="ai-card text-center p-6 rounded-lg border border-gray-200">
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-brain text-blue-600 text-xl"></i>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-2">æ™ºèƒ½ç†è§£</h3>
                    <p class="text-sm text-gray-600">æ·±åº¦ç†è§£ç”¨æˆ·æ„å›¾ï¼Œç”Ÿæˆç¬¦åˆéœ€æ±‚çš„å†…å®¹</p>
                </div>
                
                <div class="ai-card text-center p-6 rounded-lg border border-gray-200">
                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-palette text-green-600 text-xl"></i>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-2">å¤šæ ·é£æ ¼</h3>
                    <p class="text-sm text-gray-600">æ”¯æŒå¤šç§è¯­è°ƒå’Œé£æ ¼ï¼Œé€‚åº”ä¸åŒåœºæ™¯</p>
                </div>
                
                <div class="ai-card text-center p-6 rounded-lg border border-gray-200">
                    <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-language text-purple-600 text-xl"></i>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-2">å¤šè¯­è¨€</h3>
                    <p class="text-sm text-gray-600">æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ç­‰å¤šç§è¯­è¨€å†…å®¹ç”Ÿæˆ</p>
                </div>
                
                <div class="ai-card text-center p-6 rounded-lg border border-gray-200">
                    <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-rocket text-orange-600 text-xl"></i>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-2">å¿«é€Ÿç”Ÿæˆ</h3>
                    <p class="text-sm text-gray-600">ç§’çº§å“åº”ï¼Œå¿«é€Ÿç”Ÿæˆé«˜è´¨é‡å†…å®¹</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Examples -->
    <div class="bg-gray-50 py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">å†…å®¹ç¤ºä¾‹</h2>
                <p class="text-xl text-gray-600">çœ‹çœ‹ AI èƒ½ä¸ºæ‚¨åˆ›ä½œä»€ä¹ˆæ ·çš„å†…å®¹</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-lg p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                            <i class="fab fa-twitter text-blue-500"></i>
                        </div>
                        <span class="ml-2 font-medium text-gray-900">Twitter æ¨æ–‡</span>
                    </div>
                    <div class="text-gray-700 text-sm">
                        "ğŸš€ æ¿€åŠ¨åœ°å®£å¸ƒæˆ‘ä»¬çš„æ–°äº§å“æ­£å¼å‘å¸ƒï¼ç»è¿‡å›¢é˜Ÿçš„ä¸æ‡ˆåŠªåŠ›ï¼Œæˆ‘ä»¬ä¸ºå¤§å®¶å¸¦æ¥äº†æ›´æ™ºèƒ½çš„è§£å†³æ–¹æ¡ˆã€‚ç«‹å³ä½“éªŒï¼šlink.com #äº§å“å‘å¸ƒ #åˆ›æ–° #ç§‘æŠ€"
                    </div>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                            <i class="fab fa-linkedin text-blue-700"></i>
                        </div>
                        <span class="ml-2 font-medium text-gray-900">LinkedIn æ–‡ç« </span>
                    </div>
                    <div class="text-gray-700 text-sm">
                        "åœ¨æ•°å­—åŒ–è½¬å‹çš„æµªæ½®ä¸­ï¼Œæˆ‘ä»¬è§è¯äº†æŠ€æœ¯å¦‚ä½•é‡å¡‘å•†ä¸šæ¨¡å¼ã€‚ä»Šå¤©ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€äº›å…³äºåˆ›æ–°çš„æ€è€ƒï¼Œä»¥åŠæˆ‘ä»¬å¦‚ä½•é€šè¿‡æŠ€æœ¯åˆ›é€ æ›´å¤§çš„ä»·å€¼..."
                    </div>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <div class="w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center">
                            <i class="fab fa-instagram text-pink-500"></i>
                        </div>
                        <span class="ml-2 font-medium text-gray-900">Instagram æ–‡æ¡ˆ</span>
                    </div>
                    <div class="text-gray-700 text-sm">
                        "âœ¨ æ¯ä¸€ä¸ªç¾å¥½çš„ç¬é—´éƒ½å€¼å¾—è¢«è®°å½• ğŸ“¸ ä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€äº›å…³äºç”Ÿæ´»çš„å°ç¾å¥½... #ç”Ÿæ´»ç¾å­¦ #åˆ†äº« #ç¾å¥½æ—¶å…‰"
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function aiGenerationData() {
            return {
                // API Configuration
                apiKey: '', // ç”¨æˆ·éœ€è¦è¾“å…¥è‡ªå·±çš„ Gemini API Key
                showApiKeyInput: true,

                // Form Data
                prompt: '',
                contentType: 'social_post',
                tone: 'professional',
                length: 'medium',
                selectedPlatforms: ['twitter'],
                language: 'zh-CN',

                // Generation State
                generating: false,
                generatedContent: '',
                generatedVariations: [],
                selectedVariation: 0,

                // UI State
                showVariations: false,
                errorMessage: '',
                successMessage: '',
                samplePrompts: [],

                platforms: [
                    { id: 'twitter', name: 'Twitter' },
                    { id: 'facebook', name: 'Facebook' },
                    { id: 'instagram', name: 'Instagram' },
                    { id: 'linkedin', name: 'LinkedIn' },
                    { id: 'tiktok', name: 'TikTok' },
                    { id: 'youtube', name: 'YouTube' }
                ],

                init() {
                    // æ£€æŸ¥æœ¬åœ°å­˜å‚¨çš„ API Key
                    const savedApiKey = localStorage.getItem('gemini_api_key');
                    if (savedApiKey) {
                        this.apiKey = savedApiKey;
                        this.showApiKeyInput = false;
                    }

                    // åˆå§‹åŒ–ç¤ºä¾‹æç¤ºè¯
                    this.loadSamplePrompts();
                },

                loadSamplePrompts() {
                    // ä½¿ç”¨é»˜è®¤ç¤ºä¾‹æç¤ºè¯
                    this.samplePrompts = [
                        'æˆ‘ä»¬å³å°†å‘å¸ƒä¸€æ¬¾é©å‘½æ€§çš„æ™ºèƒ½æ‰‹è¡¨ï¼Œå…·æœ‰å¥åº·ç›‘æµ‹å’ŒAIåŠ©æ‰‹åŠŸèƒ½',
                        'ä¸¾åŠçº¿ä¸ŠæŠ€æœ¯åˆ†äº«ä¼šï¼Œé‚€è¯·è¡Œä¸šä¸“å®¶åˆ†äº«æœ€æ–°è¶‹åŠ¿',
                        'åˆ†äº«å…¬å¸åˆ›å§‹äººçš„åˆ›ä¸šæ•…äº‹å’Œåˆå¿ƒ',
                        'åˆ†æäººå·¥æ™ºèƒ½åœ¨æ•™è‚²è¡Œä¸šçš„åº”ç”¨å‰æ™¯',
                        'æ–°æ¨å‡ºçš„åœ¨çº¿å­¦ä¹ å¹³å°ï¼Œä¸ºèŒåœºäººå£«æä¾›æŠ€èƒ½æå‡è¯¾ç¨‹',
                        'å…¬å¸å¹´åº¦å®¢æˆ·ç­”è°¢æ™šå®´ï¼Œæ„Ÿè°¢åˆä½œä¼™ä¼´çš„æ”¯æŒ'
                    ];
                },

                getRandomSamplePrompt() {
                    if (this.samplePrompts.length === 0) return '';
                    return this.samplePrompts[Math.floor(Math.random() * this.samplePrompts.length)];
                },

                saveApiKey() {
                    if (!this.apiKey.trim()) {
                        this.showError('è¯·è¾“å…¥æœ‰æ•ˆçš„ API Key');
                        return;
                    }

                    // ç®€å•éªŒè¯ API Key æ ¼å¼
                    if (!this.apiKey.startsWith('AIza')) {
                        this.showError('API Key æ ¼å¼ä¸æ­£ç¡®ï¼Œåº”è¯¥ä»¥ "AIza" å¼€å¤´');
                        return;
                    }

                    localStorage.setItem('gemini_api_key', this.apiKey);
                    this.showApiKeyInput = false;
                    this.showSuccess('API Key å·²ä¿å­˜');
                },

                async generateContent() {
                    if (!this.prompt.trim()) {
                        this.showError('è¯·è¾“å…¥å†…å®¹ä¸»é¢˜');
                        return;
                    }

                    if (!this.apiKey.trim()) {
                        this.showError('è¯·å…ˆè®¾ç½® Gemini API Key');
                        this.showApiKeyInput = true;
                        return;
                    }

                    this.generating = true;
                    this.errorMessage = '';
                    this.generatedContent = '';
                    this.generatedVariations = [];

                    try {
                        const content = await this.callGeminiAPI();
                        this.generatedContent = content;
                        this.showSuccess('å†…å®¹ç”ŸæˆæˆåŠŸï¼');
                    } catch (error) {
                        console.error('Generation error:', error);
                        this.showError('ç”Ÿæˆå¤±è´¥: ' + error.message);
                    } finally {
                        this.generating = false;
                    }
                },

                async callGeminiAPI() {
                    const prompt = this.buildPrompt();

                    const apiUrl = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent';

                    const generationConfig = {
                        temperature: 0.7,
                        topK: 40,
                        topP: 0.95,
                        maxOutputTokens: 1024,
                    };

                    console.log('å‘é€è¯·æ±‚åˆ° Gemini API...', { prompt: prompt.substring(0, 100) + '...' });

                    const response = await fetch(`${apiUrl}?key=${this.apiKey}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{
                                    text: prompt
                                }]
                            }],
                            generationConfig: generationConfig
                        })
                    });

                    console.log('API å“åº”çŠ¶æ€:', response.status, response.statusText);

                    if (!response.ok) {
                        const errorData = await response.json();
                        console.error('API é”™è¯¯å“åº”:', errorData);
                        const errorMessage = errorData.error?.message || `HTTP ${response.status}: ${response.statusText}`;
                        throw new Error(errorMessage);
                    }

                    const data = await response.json();
                    console.log('API æˆåŠŸå“åº”:', data);

                    if (!data.candidates || !data.candidates[0] || !data.candidates[0].content) {
                        throw new Error('API è¿”å›äº†æ— æ•ˆçš„å“åº”æ ¼å¼');
                    }

                    return data.candidates[0].content.parts[0].text;
                },

                buildPrompt() {
                    const contentTypeMap = {
                        social_post: 'ç¤¾äº¤åª’ä½“å¸–å­',
                        blog_article: 'åšå®¢æ–‡ç« ',
                        marketing_copy: 'è¥é”€æ–‡æ¡ˆ',
                        product_description: 'äº§å“æè¿°'
                    };

                    const toneMap = {
                        professional: 'ä¸“ä¸š',
                        casual: 'éšæ„',
                        friendly: 'å‹å¥½',
                        humorous: 'å¹½é»˜',
                        inspiring: 'é¼“èˆäººå¿ƒ'
                    };

                    const lengthMap = {
                        short: 'ç®€çŸ­ï¼ˆ50-100å­—ï¼‰',
                        medium: 'ä¸­ç­‰ï¼ˆ100-300å­—ï¼‰',
                        long: 'è¯¦ç»†ï¼ˆ300-500å­—ï¼‰'
                    };

                    const platformsText = this.selectedPlatforms.map(p =>
                        this.platforms.find(platform => platform.id === p)?.name
                    ).join('ã€');

                    const prompt = `è¯·ä¸ºæˆ‘åˆ›ä½œä¸€ä¸ª${contentTypeMap[this.contentType]}ï¼Œä¸»é¢˜æ˜¯ï¼š${this.prompt}

è¦æ±‚ï¼š
- è¯­è°ƒé£æ ¼ï¼š${toneMap[this.tone]}
- å†…å®¹é•¿åº¦ï¼š${lengthMap[this.length]}
- ç›®æ ‡å¹³å°ï¼š${platformsText}
- è¯­è¨€ï¼š${this.language === 'zh-CN' ? 'ä¸­æ–‡' : 'è‹±æ–‡'}

è¯·ç¡®ä¿å†…å®¹ï¼š
1. ç¬¦åˆç›®æ ‡å¹³å°çš„ç‰¹ç‚¹å’Œç”¨æˆ·ä¹ æƒ¯
2. å…·æœ‰å¸å¼•åŠ›å’Œäº’åŠ¨æ€§
3. åŒ…å«é€‚å½“çš„è¡¨æƒ…ç¬¦å·å’Œæ ‡ç­¾ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
4. è¯­è¨€è‡ªç„¶æµç•…ï¼Œç¬¦åˆæŒ‡å®šçš„è¯­è°ƒé£æ ¼

è¯·ç›´æ¥è¿”å›ç”Ÿæˆçš„å†…å®¹ï¼Œä¸éœ€è¦é¢å¤–çš„è§£é‡Šã€‚`;

                    return prompt;
                },

                async generateVariations() {
                    if (!this.generatedContent) {
                        this.showError('è¯·å…ˆç”ŸæˆåŸºç¡€å†…å®¹');
                        return;
                    }

                    this.generating = true;
                    this.errorMessage = '';

                    try {
                        const variations = [];

                        // ç”Ÿæˆ3ä¸ªå˜ä½“
                        for (let i = 0; i < 3; i++) {
                            const variationPrompt = `è¯·åŸºäºä»¥ä¸‹å†…å®¹åˆ›ä½œä¸€ä¸ªå˜ä½“ç‰ˆæœ¬ï¼Œä¿æŒæ ¸å¿ƒä¿¡æ¯ä¸å˜ï¼Œä½†æ”¹å˜è¡¨è¾¾æ–¹å¼å’Œç»“æ„ï¼š

åŸå†…å®¹ï¼š
${this.generatedContent}

è¦æ±‚ï¼š
- ä¿æŒç›¸åŒçš„è¯­è°ƒé£æ ¼ï¼š${this.tone}
- ä¿æŒç›¸åŒçš„å†…å®¹é•¿åº¦
- åˆ›æ–°è¡¨è¾¾æ–¹å¼ï¼Œä½†ä¸æ”¹å˜æ ¸å¿ƒä¿¡æ¯
- é€‚åˆå¹³å°ï¼š${this.selectedPlatforms.join('ã€')}

è¯·ç›´æ¥è¿”å›å˜ä½“å†…å®¹ï¼š`;

                            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${this.apiKey}`, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({
                                    contents: [{
                                        parts: [{
                                            text: variationPrompt
                                        }]
                                    }],
                                    generationConfig: {
                                        temperature: 0.8,
                                        topK: 40,
                                        topP: 0.95,
                                        maxOutputTokens: 1024,
                                    }
                                })
                            });

                            if (response.ok) {
                                const data = await response.json();
                                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                                    variations.push(data.candidates[0].content.parts[0].text);
                                }
                            }
                        }

                        this.generatedVariations = variations;
                        this.showVariations = true;
                        this.showSuccess(`æˆåŠŸç”Ÿæˆ ${variations.length} ä¸ªå˜ä½“ç‰ˆæœ¬ï¼`);

                    } catch (error) {
                        console.error('Variation generation error:', error);
                        this.showError('ç”Ÿæˆå˜ä½“å¤±è´¥: ' + error.message);
                    } finally {
                        this.generating = false;
                    }
                },

                async optimizeContent() {
                    if (!this.generatedContent) {
                        this.showError('è¯·å…ˆç”Ÿæˆå†…å®¹');
                        return;
                    }

                    this.generating = true;
                    this.errorMessage = '';

                    try {
                        const optimizePrompt = `è¯·ä¼˜åŒ–ä»¥ä¸‹å†…å®¹ï¼Œä½¿å…¶æ›´åŠ å¸å¼•äººå’Œæœ‰æ•ˆï¼š

åŸå†…å®¹ï¼š
${this.generatedContent}

ä¼˜åŒ–è¦æ±‚ï¼š
1. æé«˜å†…å®¹çš„å¸å¼•åŠ›å’Œäº’åŠ¨æ€§
2. ä¼˜åŒ–ç»“æ„å’Œè¡¨è¾¾æ–¹å¼
3. æ·»åŠ æ›´æœ‰æ•ˆçš„è°ƒç”¨è¡ŒåŠ¨ï¼ˆCTAï¼‰
4. ä¿æŒåŸæœ‰çš„æ ¸å¿ƒä¿¡æ¯å’Œè¯­è°ƒ
5. é€‚åˆå¹³å°ï¼š${this.selectedPlatforms.join('ã€')}

è¯·ç›´æ¥è¿”å›ä¼˜åŒ–åçš„å†…å®¹ï¼š`;

                        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${this.apiKey}`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                contents: [{
                                    parts: [{
                                        text: optimizePrompt
                                    }]
                                }],
                                generationConfig: {
                                    temperature: 0.6,
                                    topK: 40,
                                    topP: 0.95,
                                    maxOutputTokens: 1024,
                                }
                            })
                        });

                        if (!response.ok) {
                            throw new Error(`ä¼˜åŒ–è¯·æ±‚å¤±è´¥: ${response.statusText}`);
                        }

                        const data = await response.json();
                        if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                            this.generatedContent = data.candidates[0].content.parts[0].text;
                            this.showSuccess('å†…å®¹ä¼˜åŒ–å®Œæˆï¼');
                        } else {
                            throw new Error('ä¼˜åŒ–å“åº”æ ¼å¼æ— æ•ˆ');
                        }

                    } catch (error) {
                        console.error('Optimization error:', error);
                        this.showError('ä¼˜åŒ–å¤±è´¥: ' + error.message);
                    } finally {
                        this.generating = false;
                    }
                },

                selectVariation(index) {
                    this.selectedVariation = index;
                    this.generatedContent = this.generatedVariations[index];
                    this.showVariations = false;
                    this.showSuccess('å·²é€‰æ‹©å˜ä½“ç‰ˆæœ¬ï¼');
                },

                copyContent() {
                    if (!this.generatedContent) {
                        this.showError('æ²¡æœ‰å†…å®¹å¯å¤åˆ¶');
                        return;
                    }

                    navigator.clipboard.writeText(this.generatedContent).then(() => {
                        this.showSuccess('å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                    }).catch(() => {
                        this.showError('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
                    });
                },

                showError(message) {
                    this.errorMessage = message;
                    this.successMessage = '';
                    console.error('é”™è¯¯:', message);
                    setTimeout(() => {
                        this.errorMessage = '';
                    }, 5000);
                },

                showSuccess(message) {
                    this.successMessage = message;
                    this.errorMessage = '';
                    console.log('æˆåŠŸ:', message);
                    setTimeout(() => {
                        this.successMessage = '';
                    }, 3000);
                },

                clearApiKey() {
                    localStorage.removeItem('gemini_api_key');
                    this.apiKey = '';
                    this.showApiKeyInput = true;
                    this.showSuccess('API Key å·²æ¸…é™¤');
                },

                getPlatformLimit(platformId) {
                    const defaultLimits = {
                        twitter: 280,
                        facebook: 2000,
                        instagram: 2200,
                        linkedin: 3000,
                        tiktok: 150,
                        youtube: 5000
                    };

                    return defaultLimits[platformId] || 500;
                }
            }
        }
    </script>

    <style>
        [x-cloak] { display: none !important; }
    </style>
</body>
</html>
